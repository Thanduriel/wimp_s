#version 330

uniform sampler2D diffuseTex;

in vec4 vs_out_normal;
in vec2 vs_out_texCoords;

//out vec4 fragColor;
layout(location = 0) out vec4 out_FragColor;
layout(location = 1) out vec4 out_Normal;

void main()
{
	vec4 fragColor;
	fragColor = vs_out_normal;
	fragColor.w = 1;
	float cosTheta = clamp( dot( vs_out_normal, vec4(0,0,-1,1) ), 0.4,0.6 );
	// todo read color from texture
	fragColor.rgb = texture(diffuseTex, vs_out_texCoords).rgb;//vec3(0.4,0.3,0.6);
	fragColor *= cosTheta;
	fragColor.a = 1;
	
	out_FragColor = fragColor;
	out_Normal = vs_out_normal;
}